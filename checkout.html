<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="checkout.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/c53865840c.js" crossorigin="anonymous"></script>
    <!-- <script src="/js/order.js"></script> -->
    <script src="/js/firebase.js"></script>
    <script src="/js/navigation.js"></script>
    <script src="/js/checkout.js"></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script> 
    <script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.5.7/firebase.js"></script>

    <title>Document</title>
</head>
<body>

    <script>

firebaseinit()
getMenuArchive()
savedDetails()




// document.getElementById("menu1").className("text-underlined:before")


    </script>
    <nav>
        <i class="nav-icons fa-solid fa-magnifying-glass" href=""></i>
        <a class="titles" href="/index.html">Home</a>
        <img class="logo" src="/images/logo.png" >
        <a class="titles" href="/order.html">Order</a>
        <div class="dropdown" class="nav-icons" src="/images/search.png">
            <i class="fa-solid fa-user dropbtn"></i>
            <div class="dropdown-content">
              <a id="Name" href="#">WELCOME, OSCAR</a>
              <a id="Account" href="account.html">My Account</a>
              <a id="Action" onclick='LogoutProcess()'href="">Log out</a>
            </div>
          </div>
      </nav>


     
   
    
        </div>
      
      </div>
    


      <section>
        <body>

          <div id="myModal" class="place-modal">

            <!-- Modal content -->
            <div class="place-modal-content">
             
              <div class="place-modal-body">
                <img id="ld-gif" class="co-img" src="images/burger-loader.gif" style="width: 50%;">

                <div class="bottom-text-box">

                  <p id="status-text" class="place-text">Placing your order...</p>
          
                  <p id="terms-text" class="place-text-terms">Do not close or refresh this page</p>

                </div>
             
              </div>
            
            </div>
          
          </div>

          
           <div class="container-info">			
            
            
              <h5 id="your-details" class="your-details">① Your Details</h5>
              <h5 id="your-payment" class="your-payment">② Payment</h5>
           
    
              <button id="your-details-tab" class="accordion">Your Details</button>
<div id="your-details-field" class="panel">



    
       <div class="details-container-info">			
        <input id="fn" class="checkout-input" style="width: 47%; margin-bottom: 3%; margin-top: 7%;" placeholder="First Name">
        <input id="ln" class="checkout-input" style="width: 47%; margin-bottom: 3%;" placeholder="Last Name">

        <input id="e" class="checkout-input" style="width: 97%;margin-bottom: -3%;" placeholder="Email">
        <input id="pn" class="checkout-input" style="width: 97%; margin-bottom: 3%;" placeholder="Phone">
   
      
       
        <input id="ad1" class="checkout-input" style="width: 97%; margin-bottom: -3%;" placeholder="Address">
        <input id="suburb" class="checkout-input" style="width: 32%" placeholder="Suburb">
    
       
       
        <input id="s" class="checkout-input" style="width: 30%" placeholder="State">
        <input id="zip" class="checkout-input" style="width: 30%" placeholder="Post Code">
      
        <button class="save-button" style="margin-top: 8%;" onclick="proceedToPayment()">Continue</button> 
       </div>
       <div class="details-container-main">
         

        <div hidden class="current-address grow expandable" id="current-address" onclick="currentSelected()">
          <h6 class="details-text">Current Details</h6>
          <h4 id="cd-n" class="details-text-name details-text">Oscar Morgan</h4>
          <h5 id="cd-fa" class="details-text-address details-text">123 Street Rd Suburb, ACT 2900</h5>
          <h6 id="cd-c" class="details-text-contact details-text">email@fabricburger.co | 0400 123 421</h6>
          <input type="radio" id="current-tick" class="inline-right"></input>
        </div>
        <div class="saved-address grow">
          <h6 class="details-text">Saved Details</h6>
          <h4 id="sd-n" class="details-text-name details-text">Sign in to save your details for a faster checkout.</h4>
          <h5 hidden id="sd-fa" class="details-text-address details-text">_______</h5>
          <h6 hidden id="sd-c" class="details-text-contact details-text">______ | ______</h6>
          <input hidden type="radio" id="sd-current-tick" class="inline-right"></input>
      
        </div>
       </div>
   

    
  
  
</div>

<button id="tab" class="accordion">Payment</button>
<div id="payment-field" class="panel">
 
  


<div class="paypal">

  <label class="container top" style="color: black;">
    <img style="width: 10%; float: left; margin-top: 3%; margin-left: px;" src="images/paypal.png">
<input type="radio" checked="checked" name="radio">
    <span class="checkmark"></span>
  </label>

</div>
<br>
<br>
<br>


<div class="paypal">

  <label class="container" style="color: black;">
    <h2 style="float: left; font-size: large; margin-top: 3%; margin-left: 10px; font-family: 'head';"><i class="fa-solid fa-credit-card"></i>  Pay with card</h2>
<input type="radio" checked="checked" name="radio">
    <span class="checkmark"></span>
  </label>

</div>

<br>
<br>
<br>


<div class="paypal">

  <label class="container bottom" style="color: black;">
    <h2 style="float: left; font-size: large; margin-top: 3%; margin-left: 10px; font-family: 'head';"><i class="fa-solid fa-gift"></i>  Pay with gift card</h2>
<input type="radio" checked="checked" name="radio">
    <span class="checkmark"></span>
  </label>

</div>



</div>
            
           
           </div>
           <div class="container-main">
             <img src="/images/logo.png" class="cart-logo" alt="">
             
             <div class="order-item" id="cart">
                
             </div>
   

             <div class="total">
                <h1 id="subtotal-price" class="subtotal">Subtotal:</h1>
                <h1 id="discount-price" class="discount">Discount:</h1>
                <h1 id="total-price" class="totalprice">Total:</h1>
             </div>

             <button onclick="orderIntent()" class="checkout">Make Payment</button>
           </div>



         
           <script>



var modal = document.getElementById("item-modal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 



// When the user clicks on <span> (x), close the modal
// span.onclick = function() {
//   modal.style.display = "none";
// }

// When the user clicks anywhere outside of the modal, close it

           </script>


<script>
  var acc = document.getElementsByClassName("accordion");
  var i;
  
  for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var panel = this.nextElementSibling;
      if (panel.style.maxHeight) {
        panel.style.maxHeight = null;
      } else {
        panel.style.maxHeight = panel.scrollHeight + "px";
      }
    });
  }





  </script>

      <footer id="orderIDSEC" class="footer-universal">
        <div id="orderIDSEC"></div>
      </footer>

        </body>

        <script>


function proceedToPayment() {


  document.getElementById("current-address").style.display = "block"
  currentSelected()
  validateDetails()

var field = document.getElementById("your-details-field")
var paymentField = document.getElementById("payment-field")
tab.classList.toggle("active");
if (field.style.maxHeight) {

      field.style.maxHeight = null;
      paymentField.style.maxHeight = field.scrollHeight + "px";

      document.getElementById("your-details").style.opacity = "0.4"
      document.getElementById("your-payment").style.opacity = "1"
    } else {
      field.style.maxHeight = field.scrollHeight + "px";
      document.getElementById("your-payment").style.opacity = "1";
    } 

}

function openDetails() {

setTimeout(function() {
  var field = document.getElementById("your-details-field")
  field.style.maxHeight = field.scrollHeight + "px";
}, 500);



}


function currentSelected() {
  document.getElementById("current-tick").checked = true;
  document.getElementById("sd-current-tick").checked = false
  document.getElementById("current-address").style.backgroundColor = "#e0dddd"
}

openDetails()


        </script>
        
        </section>